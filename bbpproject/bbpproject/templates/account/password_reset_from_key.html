{% extends "base.html" %}
{% load i18n static form_tags %}

{% block title %}Change Password - LuxeHair{% endblock %}

{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full bg-white rounded-3xl shadow-2xl p-8 lg:p-12 text-center">
    
    <div class="mb-8">
      <div class="w-20 h-20 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-6">
        <i class="fas fa-lock-open text-yellow-600 text-3xl"></i>
      </div>
      <h2 class="text-3xl font-serif font-bold text-gray-900 mb-2">
        {% if token_fail %}Bad Token{% else %}Change Password{% endif %}
      </h2>
    </div>

    {% if token_fail %}
        <p class="text-red-500 mb-8">The password reset link was invalid, possibly because it has already been used. Please request a <a href="{% url 'account_reset_password' %}" class="font-bold underline">new password reset</a>.</p>
    {% else %}
        <form method="post" action="{{ action_url }}" class="space-y-6">
          {% csrf_token %}
          
          <div class="text-left space-y-4">
            <div class="space-y-1.5">
                <label class="text-xs font-bold text-gray-700 uppercase tracking-widest">New Password</label>
                {{ form.password1|add_class:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-2xl focus:outline-none focus:border-yellow-500 focus:bg-white transition-all text-sm" }}
            </div>
            <div class="space-y-1.5">
                <label class="text-xs font-bold text-gray-700 uppercase tracking-widest">Confirm New Password</label>
                {{ form.password2|add_class:"w-full px-4 py-3 bg-gray-50 border-2 border-gray-100 rounded-2xl focus:outline-none focus:border-yellow-500 focus:bg-white transition-all text-sm" }}
            </div>
          </div>

          <button type="submit" class="w-full py-4 bg-black text-white font-bold rounded-2xl hover:bg-gray-900 active:scale-95 transition-all shadow-xl shadow-yellow-600/5">
            Change Password
          </button>
        </form>
    {% endif %}

  </div>
</div>
{% endblock %}
